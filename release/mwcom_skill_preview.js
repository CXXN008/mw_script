(function () {style=document.createElement("style"),style.innerHTML="\n.pup {\n\tposition:absolute;\n\tz-index:200; \n\tpadding: 5px;\n\twidth: 250px;\n\tborder: 1px solid white;\n\tcolor: white;\n\tbackground-color: #00000088;\n\tfont-size: 0.95em;\n\tborder-radius:10px;\n\ttext-align: top;\n\tvertical-align: center;\n  }\n.pup > hr{\n    border: none;\n    height: 1px;\n    color: white; /* old IE */\n    background-color: white; /* Modern Browsers */\n}\n.pup > img{\n\tborder: 2px solid #9f9a99;\n\tborder-radius:7px;\n\theight: 48px;\n\tfloat:left;\n\tmargin: 0 5px 0 5px;\n}\n",document.head.appendChild(style),nhpup={pup:null,identifier:"pup",minMargin:15,default_width:300,move:!1,popup:function(t,e){this.move=!0,this.pup.removeClass().addClass(this.identifier).width(this.default_width),void 0!==e&&("class"in e&&this.pup.addClass(e.class),"width"in e&&this.pup.width(e.width)),this.pup.html(t).show();var r=this.getTarget(arguments.callee.caller.arguments[0]);$jq(r).unbind("mouseout").bind("mouseout",function(t){nhpup.pup.hide(),nhpup.move=!1})},setElementPos:function(t,e){var r=this.nudge(t+10,e);this.pup.css("top",r[1]+"px").css("left",r[0]+"px")},nudge:function(t,e){var r=$jq(window);return t>$jq(document).scrollLeft()+r.width()-this.pup.width()-this.minMargin&&(t-=this.pup.width()+2*this.minMargin),t=this.max(t,0),e+this.pup.height()>r.height()+$jq(document).scrollTop()&&(e-=this.pup.height()+this.minMargin),[t,e]},max:function(t,e){return t>e?t:e},getTarget:function(t){var e;if(!t)t=window.event;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),3==e.nodeType&&(e=e.parentNode),e},onTouchDevice:function(){return null!==navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|android|blackberry|iemobile|opera m(ob|in)i|vodafone)/)},initialized:!1,initialize:function(){this.initialized||(window.$jq=jQuery,jQuery(document).ready(function(){$jq("body").append("<div id=\""+nhpup.identifier+"\" class=\""+nhpup.identifier+"\" style=\"position:absolute; display:none; z-index:999;\"></div>"),nhpup.pup=$jq("#"+nhpup.identifier),$jq(document).mousemove(function(t){nhpup.onTouchDevice()||nhpup.move&&nhpup.setElementPos(t.pageX,t.pageY)})}),this.initialized=!0)}},"jQuery"in window&&nhpup.initialize();var c=document.querySelectorAll("img[width=\"32\"]"),d={},f=!0,g=!1,h=void 0;try{for(var i,a=c[Symbol.iterator]();!(f=(i=a.next()).done);f=!0){var b=i.value;b.addEventListener("mouseleave",function(){d.abort()}),b.addEventListener("mouseover",function(t){var e=new AbortController,r=e.signal;d=e,nhpup.popup("<img src=".concat(t.target.src,"></img><b>").concat(t.target.parentNode.title,"<br/></b><span><br/></span><hr/><span>Loading ...</span>"));var n=t.target.parentNode.href.split("/"),o={action:"parse",page:decodeURI(n[n.length-1]),prop:"text",format:"json",formatversion:"2"},i=new FormData;for(var a in o)i.append(a,o[a]);fetch("//nga.wiki/mediawiki-1.34.2/api.php",{signal:r,body:i,method:"POST"}).then(function(t){return t.status>=200&&t.status<300?Promise.resolve(t):Promise.reject(new Error(t.statusText))}).then(function(t){return t.json()}).then(function(t){var e=document.createElement("div");e.innerHTML=t.parse.text;var r=e.querySelectorAll("th+td"),n=document.querySelectorAll(".pup>span");n[0].innerText=r[0].innerText,n[1].innerText=r[1].innerText}).catch(function(t){return"AbortError"===t.name?console.warn("mouseleave --- cancel current request"):console.log("something wrong".concat(t)),null})})}}catch(err){g=!0,h=err}finally{try{f||null==a.return||a.return()}finally{if(g)throw h}}})();